/**
 * Buttons Component
 *
 * Button styles for actions, forms, and interactive elements.
 * Uses custom properties for easy theming and variants.
 */

@layer components {
  /* Base button */
  .button,
  button[type="submit"],
  input[type="submit"] {
    --button-bg: var(--color-fg);
    --button-fg: var(--color-bg);
    --button-padding-block: var(--space-025);
    --button-padding-inline: var(--space-05);
    --button-radius: 0.25rem;

    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-1);

    padding-block: var(--button-padding-block);
    padding-inline: var(--button-padding-inline);

    background: var(--button-bg);
    color: var(--button-fg);

    font-family: inherit;
    font-size: var(--text-3);
    font-weight: var(--font-weight-semibold);
    line-height: 1;
    text-decoration: none;
    text-align: center;

    border: 2px solid transparent;
    border-radius: var(--button-radius);

    cursor: pointer;
    transition: all 0.2s ease;

    /* Prevent selection */
    user-select: none;

    &:where(:hover, :focus-visible) {
      --button-bg: var(--color-accent);
      transform: translateY(-1px);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }

    &:active {
      transform: translateY(0);
      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.1);
    }

    &:focus-visible {
      outline: 2px solid var(--color-accent);
      outline-offset: 2px;
    }
  }

  /* Button variants */
  .button--red {
    --button-bg: var(--color-red-600);
    --button-fg: white;

    &:where(:hover, :focus-visible) {
      --button-bg: var(--color-red-700);
    }
  }

  .button--blue {
    --button-bg: var(--color-brand);
    --button-fg: var(--color-white);

    &:where(:hover, :focus-visible) {
      --button-bg: var(--color-brand-dark);
    }
  }

  .button--grey {
    --button-bg: var(--color-grey-500);
    --button-fg: var(--color-white);

    &:where(:hover, :focus-visible) {
      --button-bg: var(--color-fg);
    }
  }

  /* Size variants */
  .button--small {
    --button-padding-block: calc(var(--space-1) * 0.75);
    --button-padding-inline: var(--space-2);
    font-size: var(--text-2);
  }

  .button--large {
    --button-padding-block: var(--space-3);
    --button-padding-inline: var(--space-4);
    font-size: var(--text-4);
  }

  /* Disabled state */
  .button--disabled,
  .button:disabled,
  button:disabled,
  input:disabled {
    --button-bg: var(--color-grey-300);
    --button-fg: var(--color-grey-500);
    cursor: not-allowed;
    opacity: 0.6;

    &:where(:hover, :focus-visible) {
      transform: none;
      box-shadow: none;
    }
  }

  /* Button group */
  .button-group {
    display: inline-flex;
    gap: 0;

    & > .button,
    & > button {
      border-radius: 0;
      margin-inline-start: -2px;

      &:first-child {
        margin-inline-start: 0;
        border-start-start-radius: var(--button-radius);
        border-end-start-radius: var(--button-radius);
      }

      &:last-child {
        border-start-end-radius: var(--button-radius);
        border-end-end-radius: var(--button-radius);
      }

      &:where(:hover, :focus-visible) {
        position: relative;
        z-index: 1;
      }
    }
  }
}
